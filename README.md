
# Тестовое задание Junior Backend-разработчик (PHP).
Реализация простого REST API на чистом PHP (без использования фреймворков) для управления списком задач (To-Do List).

## Функционал

Приложение реализует полный набор CRUD-операций (Create, Read, Update, Delete):
- **GET** `/tasks` — Получение списка всех задач.
- **GET** `/tasks/{id}` — Получение одной задачи по ID.
- **POST** `/tasks` — Создание новой задачи.
- **PUT** `/tasks/{id}` — Обновление существующей задачи.
- **DELETE** `/tasks/{id}` — Удаление задачи.

## Технологии

- **PHP** (Без фреймворков)
- **MySQL** (взаимодействие через PDO и защита от SQL-инъекций)
- **JSON** (формат обмена данными)
- **Apache** (Правила переадресации через .htaccess)

### При выполнении запросов указываются response code. 
Постарался сделать всё по стандартам REST, ниже будут примеры.

### База данных
При необходимости закинул БД в папку `database`
1. Создайте базу данных с именем `todolist` (или любым другим).
2. Импортируйте файл `todolist.sql` в вашу базу данных. Это создаст таблицу `tasks`.

### 3. Конфигурация подключения к БД
Подключение в `config/connect.php` MySQL:
```php
$host = 'localhost';
$user = 'root';      // Ваш логин
$password = '';      // Ваш пароль
$db = 'todolist';    // Имя базы данных
```

### 4. Настройка веб-сервера
Необходим сервер Apache с поддержкой `.htaccess`.
Все запросы перенаправляются на `index.php`.

## API

### 1. Получить все задачи
**Запрос:**
`GET /tasks`

**Ответ (200 OK):**
```json
[
  {
    "id": 1,
    "title": "Сделать тестовое",
    "description": "Написать API на PHP",
    "status": 1
  }
]
```

### 2. Создать задачу
**Запрос:**
`POST /tasks`
**Тело (Указывал с помощью Postman: Form-data):**
- `title`: string (обязательно, макс. длина 255 символов)
- `description`: string
- `status`: boolean/int (0, 1, false, true)

**Ответ (201 Created):**
```json
{
  "status": true,
  "post_id": "2"
}
```

### 3. Обновить задачу
**Запрос:**
`PUT /tasks/{id}`
**Тело (Raw JSON):**
```json
{
    "title": "Обновленный заголовок",
    "description": "Новое описание",
    "status": 1
}
```
*`status` принимает значения `1`, `0`, `true`, `false`. При получении числа больше 1 или меньше 0 выдаст ошибку.*

**Ответ (200 OK):**
```json
{
  "status": true,
  "message": "Task updated (Задание обновлено)"
}
```

### 4. Удалить задачу
**Запрос:**
`DELETE /tasks/{id}`

**Ответ (200 OK):**
```json
{
  "status": true,
  "message": "Task is deleted (Задача удалена)"
}
```

## Структура проекта

- `index.php` — Обрабатывает входящие запросы.
- `functions.php` — Содержит функции CRUD.
- `connect.php` — Пподключения к базе данных.
- `.htaccess` — Переадресация запросов.
- `todolist.sql` — База данных.

---
**Старался:** Абкадыров Ильнар Ринатович
